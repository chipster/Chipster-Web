<h3 class="panel-title">
  <!-- single dataset selected -->
  <div *ngIf="selectionService.selectedDatasets.length === 1;">
    <span>File </span>
    <!--
    {{dataset.name}}

    <span class="dropdown">
      <button class="btn btn-outline-dark dropdown-menu-button" type="button" id="fileDropdownMenuButton" data-toggle="dropdown"
        aria-haspopup="true" aria-expanded="false" title="Actions">
        <i class="fas fa-ellipsis-h" aria-hidden="true"></i>
      </button>
      <div class="dropdown-menu" aria-labelledby="fileDropdownMenuButton">
        <a class="dropdown-item" (click)="renameDataset()">Rename...</a>
        <a class="dropdown-item" (click)="deleteDatasets()">Delete...</a>
        <a class="dropdown-item" (click)="exportDatasets()">Export</a>
        <a class="dropdown-item" (click)="showHistory()">History...</a>
      </div>
    </span>
  -->
  </div>

  <!-- multiple datasets selected -->
  <div *ngIf="selectionService.selectedDatasets.length > 1">
    <span class="">Files ({{selectionService.selectedDatasets.length}})</span>

    <span class="dropdown">
      <button class="btn btn-outline-dark dropdown-menu-button" type="button" id="fileDropdownMenuButton"
        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Actions">
        <!--<i class="fas fa-caret-down" aria-hidden="true"></i>-->
        <i class="fas fa-ellipsis-h" aria-hidden="true"></i>
      </button>
      <div class="dropdown-menu" aria-labelledby="fileDropdownMenuButton">
        <a class="dropdown-item" (click)="defineDatasetGroups()">Define Samples...</a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" (click)="deleteDatasets()">Delete {{selectionService.selectedDatasets.length}}
          files</a>
      </div>
    </span>
  </div>
</h3>


<div class="chipster-highlight">
  <div style="margin-bottom: 0.5em" *ngIf="selectionService.selectedDatasets.length === 1">
    <span class="h6">{{datasetName}}</span>
    <span class="dropdown">
      <button class="btn btn-outline-dark dropdown-menu-button" type="button" id="fileDropdownMenuButton"
        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Actions">
        <i class="fas fa-ellipsis-h" aria-hidden="true"></i>
      </button>
      <div class="dropdown-menu" aria-labelledby="fileDropdownMenuButton">
        <a class="dropdown-item" (click)="renameDataset()">Rename...</a>
        <a class="dropdown-item" (click)="wrangleDataset()">Convert to Chipster Format...</a>
        <a class="dropdown-item" (click)="defineDatasetGroups()">Define Samples...</a>
        <a class="dropdown-item" (click)="exportDatasets()">Export</a>
        <a class="dropdown-item" (click)="showHistory()">History...</a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" (click)="deleteDatasets()">Delete</a>
      </div>
    </span>
  </div>

  <ch-dataset-details *ngIf="selectionService.selectedDatasets.length > 1" (delete)="deleteDatasets()">
  </ch-dataset-details>

  <ch-visualizations *ngIf="selectionService.selectedDatasets.length > 0" (scrollFix)="doScrollFix.emit()"
    [sessionData]="sessionData" [tools]="tools"></ch-visualizations>
</div>
