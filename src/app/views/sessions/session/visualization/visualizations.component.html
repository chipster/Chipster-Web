<p *ngIf="!active">
  <i>No visualization available</i>
</p>
<div id="visTab">

  <ul ngbNav #nav="ngbNav" [(activeId)]="active" (navChange)="onNavChange($event)" class="nav-tabs">

    <li [ngbNavItem]="getTabId('spreadsheet')" *ngIf="isTabVisible('spreadsheet')">
      <a ngbNavLink><i class="fas fa-table"></i> Spreadsheet</a>
      <ng-template ngbNavContent>
        <div class="visualization-panel">
          <ch-spreadsheet-visualization *ngIf="active === getTabId('spreadsheet')"
            [dataset]="selectionService.selectedDatasets[0]" [sessionData]="sessionData">
          </ch-spreadsheet-visualization>
        </div>
      </ng-template>
    </li>

    <li [ngbNavItem]="getTabId('text')" *ngIf="isTabVisible('text')">
      <a ngbNavLink><span class="glyphicon glyphicon-font"></span> Text</a>
      <ng-template ngbNavContent>
        <div class="visualization-panel">
          <ch-text-visualization *ngIf="active === getTabId('text')" [dataset]="selectionService.selectedDatasets[0]"
            [modalMode]=false>
          </ch-text-visualization>
        </div>
      </ng-template>
    </li>

    <li [ngbNavItem]="getTabId('expressionprofile')" *ngIf="isTabVisible('expressionprofile')">
      <a ngbNavLink>Expression Profile</a>
      <ng-template ngbNavContent>
        <div class="visualization-panel">
          <ch-expression-profile *ngIf="active === getTabId('expressionprofile')"
            [dataset]="selectionService.selectedDatasets[0]">
          </ch-expression-profile>
        </div>
      </ng-template>
    </li>

    <li [ngbNavItem]="getTabId('image')" *ngIf="isTabVisible('image')">
      <a ngbNavLink><span class="glyphicon glyphicon-picture"></span> Image</a>
      <ng-template ngbNavContent>
        <div class="visualization-panel">
          <ch-image-visualization *ngIf="active === getTabId('image')" [dataset]="selectionService.selectedDatasets[0]">
          </ch-image-visualization>
        </div>
      </ng-template>
    </li>

    <li [ngbNavItem]="getTabId('pdf')" *ngIf="isTabVisible('pdf')">
      <a ngbNavLink><i class="far fa-file-pdf"></i> PDF</a>
      <ng-template ngbNavContent>
        <div class="visualization-panel">
          <ch-pdf-visualization *ngIf="active === getTabId('pdf')" [dataset]="selectionService.selectedDatasets[0]">
          </ch-pdf-visualization>
        </div>
      </ng-template>
    </li>

    <li [ngbNavItem]="getTabId('html')" *ngIf="isTabVisible('html')">
      <a ngbNavLink><i class="far fa-file-code"></i> HTML</a>
      <ng-template ngbNavContent>
        <div class="visualization-panel">
          <ch-htmlvisualization *ngIf="active === getTabId('html')" [dataset]="selectionService.selectedDatasets[0]">
          </ch-htmlvisualization>
        </div>
      </ng-template>
    </li>

    <li [ngbNavItem]="getTabId('venn')" *ngIf="isTabVisible('venn')">
      <a ngbNavLink>Venn Diagram</a>
      <ng-template ngbNavContent>
        <div class="visualization-panel">
          <ch-venn-diagram *ngIf="active === getTabId('venn')" [selectedDatasets]="selectionService.selectedDatasets">
          </ch-venn-diagram>
        </div>
      </ng-template>
    </li>

    <li [ngbNavItem]="getTabId('scatterplot')" *ngIf="isTabVisible('scatterplot')">
      <a ngbNavLink>Scatter Plot</a>
      <ng-template ngbNavContent>
        <div class="visualization-panel">
          <ch-scatter-plot *ngIf="active === getTabId('scatterplot')" [dataset]="selectionService.selectedDatasets[0]">
          </ch-scatter-plot>
        </div>
      </ng-template>
    </li>

    <li [ngbNavItem]="getTabId('volcanoplot')" *ngIf="isTabVisible('volcanoplot')">
      <a ngbNavLink>Volcano Plot</a>
      <ng-template ngbNavContent>
        <div class="visualization-panel">
          <ch-volcano-plot *ngIf="active === getTabId('volcanoplot')" [dataset]="selectionService.selectedDatasets[0]">
          </ch-volcano-plot>
        </div>
      </ng-template>
    </li>

    <li [ngbNavItem]="getTabId('phenodata')" *ngIf="isTabVisible('phenodata')">
      <a ngbNavLink><span class="glyphicon glyphicon-edit"></span> Phenodata</a>
      <ng-template ngbNavContent>
        <div class="visualization-panel">
          <ch-phenodata-visualization *ngIf="active === getTabId('phenodata')"
            [dataset]="selectionService.selectedDatasets[0]" [datasetsMap]="sessionData.datasetsMap">
          </ch-phenodata-visualization>
        </div>
      </ng-template>
    </li>

    <li [ngbNavItem]="getTabId('details')" *ngIf="isTabVisible('details')">
      <a ngbNavLink><span class="glyphicon glyphicon-th"></span> Details</a>
      <ng-template ngbNavContent>
        <div class="visualization-panel">
          <ch-details-visualization *ngIf="active === getTabId('details')"
            [dataset]="selectionService.selectedDatasets[0]" [sessionData]="sessionData" [tools]="tools">
          </ch-details-visualization>
        </div>
      </ng-template>
    </li>

  </ul>

  <div [ngbNavOutlet]="nav"></div>

</div>
