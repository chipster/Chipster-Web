<h4>Visualizations</h4>

<div id="visualization-box" class="chipster-highlight">

  <h6 *ngIf="!active">No suitable visualization for current dataset selections</h6>

  <ngb-tabset *ngIf="active" (tabChange)="tabChange($event)" activeId="{{active}}">

    <ngb-tab id="{{getTabId('spreadsheet')}}"
             *ngIf="isCompatibleVisualization('spreadsheet')">
      <template ngbTabTitle><span class="glyphicon glyphicon-th"></span> Spreadsheet</template>
      <template ngbTabContent>
        <ch-spreadsheet-visualization
          *ngIf="active === getTabId('spreadsheet')"
          [dataset]="SelectionService.selectedDatasets[0]">
        </ch-spreadsheet-visualization>
      </template>
  </ngb-tab>

    <ngb-tab id="{{getTabId('text')}}"
             *ngIf="isCompatibleVisualization('text')">
      <template ngbTabTitle><span class="glyphicon glyphicon-font"></span> Text</template>
      <template ngbTabContent>
        <ch-text-visualization
          *ngIf="active === getTabId('text')"
          [dataset]="SelectionService.selectedDatasets[0]">
        </ch-text-visualization>
      </template>
  </ngb-tab>

    <ngb-tab id="{{getTabId('expressionprofile')}}"
             *ngIf="isCompatibleVisualization('expressionprofile')">
      <template ngbTabTitle>Expression profile</template>
      <template ngbTabContent>
        <ch-expression-profile
          *ngIf="active === getTabId('expressionprofile')"
          [dataset]="SelectionService.selectedDatasets[0]">
        </ch-expression-profile>
      </template>
    </ngb-tab>

    <ngb-tab id="{{getTabId('image')}}"
             *ngIf="isCompatibleVisualization('image')">
      <template ngbTabTitle><span class="glyphicon glyphicon-picture"></span> Image</template>
      <template ngbTabContent>
        <ch-image-visualization
          *ngIf="active === getTabId('image')"
          [dataset]="SelectionService.selectedDatasets[0]">
        </ch-image-visualization>
      </template>
    </ngb-tab>

    <ngb-tab id="{{getTabId('phenodata')}}"
             *ngIf="isCompatibleVisualization('phenodata')">
      <template ngbTabTitle><span class="glyphicon glyphicon-edit"></span> Phenodata</template>
      <template ngbTabContent>
        <ch-phenodata-visualization
          *ngIf="active === getTabId('phenodata')"
          [datasetsMap]="sessionData.datasetsMap">
        </ch-phenodata-visualization>
      </template>
    </ngb-tab>

  <ngb-tab id="{{getTabId('pdf')}}"
             *ngIf="isCompatibleVisualization('pdf')">
      <template ngbTabTitle><span class="glyphicon glyphicon-book"></span> PDF</template>
      <template ngbTabContent>
        <ch-pdf-visualization
          *ngIf="active === getTabId('pdf')"
          [dataset]="SelectionService.selectedDatasets[0]">
        </ch-pdf-visualization>
      </template>

    </ngb-tab>

    <ngb-tab id="{{getTabId('html')}}"
             *ngIf="isCompatibleVisualization('html')">
      <template ngbTabTitle><span class="glyphicon glyphicon-globe"></span> HTML</template>
      <template ngbTabContent>
        <ch-htmlvisualization
          *ngIf="active === getTabId('html')"
          [dataset]="SelectionService.selectedDatasets[0]">
        </ch-htmlvisualization>
      </template>
    </ngb-tab>

    <ngb-tab id="{{getTabId('venn')}}"
             *ngIf="isCompatibleVisualization('venn')">
      <template ngbTabTitle>Venn Diagram</template>
      <template ngbTabContent>
        <ch-venn-diagram
          *ngIf="active === getTabId('venn')"
          [selectedDatasets]="SelectionService.selectedDatasets">
        </ch-venn-diagram>
      </template>
    </ngb-tab>

  </ngb-tabset>
</div>

