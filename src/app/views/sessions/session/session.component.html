<div class="row session-view">

    <!-- Start of Workflow View -->
    <div class="col-md-4">
        <left-panel
          on-delete="$ctrl.deleteDatasetsLater()"
          session-data="$ctrl.sessionData"></left-panel>

        <div ng-if="$ctrl.deletedDatasets" class="well dataset-delete-undo-well">
            <button type="button" class="close close-well-button"
                    ng-click="$ctrl.deleteDatasetsNow()">&times</button>
            <span ng-if="$ctrl.deletedDatasets.length === 1">Dataset {{$ctrl.deletedDatasets[0].name}} deleted</span>
            <span ng-if="$ctrl.deletedDatasets.length !== 1">{{$ctrl.deletedDatasets.length}} datasets deleted</span>
            <a class="pull-right" ng-click="$ctrl.deleteDatasetsUndo()">Undo</a>
        </div>
    </div>

    <div class="col-md-8 scrollable">

        <div class="row">
            <div class="col-md-12">
                <tools-box
                        modules="$ctrl.sessionData.modules"
                        tools="$ctrl.sessionData.tools"></tools-box>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <ch-job ng-if="$ctrl.selectionService.selectedJobs.length > 0"></ch-job>
                <single-dataset
                        dataset="$ctrl.selectionService.selectedDatasets[0]"
                        jobs="$ctrl.sessionData.jobsMap"
                        on-delete="$ctrl.deleteDatasetsLater()"
                        ng-if="$ctrl.selectionService.selectedDatasets.length === 1"></single-dataset>

                <dataset-box
                        on-delete="$ctrl.deleteDatasetsLater()"
                        ng-if="$ctrl.selectionService.selectedDatasets.length > 1"></dataset-box>
            </div>
        </div>

        <!-- Visualization -->
        <div class="row">
            <div class="col-md-12">
                <visualization-box ng-if="$ctrl.selectionService.selectedDatasets.length > 0"></visualization-box>
            </div>
        </div>

    </div>
</div>
