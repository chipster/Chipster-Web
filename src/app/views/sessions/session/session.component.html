<div class="row session-view">

    <!-- Start of Workflow View -->
    <div class="col-md-4">
        <ch-leftpanel [sessionData]="sessionData"></ch-leftpanel>

        <div *ngIf="deletedDatasets" class="well dataset-delete-undo-well">
            <button type="button" class="close close-well-button"
              (click)="deleteDatasetsNow()">&times;</button>
            <span *ngIf="deletedDatasets.length === 1">Dataset {{deletedDatasets[0].name}} deleted</span>
            <span *ngIf="deletedDatasets.length !== 1">{{deletedDatasets.length}} datasets deleted</span>
            <a class="pull-right" (click)="deleteDatasetsUndo()">Undo</a>
        </div>
    </div>

    <div class="col-md-8 scrollable">

        <div class="row">
            <div class="col-md-12">
                <ch-toolbox [modules]="sessionData.modules" [tools]="sessionData.tools"></ch-toolbox>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
              <ch-job *ngIf="selectionService.selectedJobs.length > 0"></ch-job>
                <ch-single-dataset
                  [dataset]="selectionService.selectedDatasets[0]"
                  [jobs]="sessionData.jobsMap"
                  (onDelete)="deleteDatasetsLater()"
                  *ngIf="selectionService.selectedDatasets.length === 1"></ch-single-dataset>
                <ch-dataset-details
                  (onDelete)="deleteDatasetsLater()"
                  *ngIf="selectionService.selectedDatasets.length > 1"></ch-dataset-details>
            </div>
        </div>

        <!-- Visualization -->
        <div class="row">
            <div class="col-md-12">
                <ch-visualizations *ngIf="selectionService.selectedDatasets.length > 0"></ch-visualizations>
            </div>
        </div>

    </div>
</div>
