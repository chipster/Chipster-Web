<!-- module buttons -->
<div class="container tools-dropdown">
  <div class="row mb-2">
    <div class="col">
      <div class="btn-group">
        <button type="button" class="btn btn-sm" (click)="selectModule(module)" *ngFor="let module of modules | modulepipe:searchTool"
          [ngClass]="{'btn-primary':module === selectedModule,
        'btn-light':module !== selectedModule}">{{module.name}}
        </button>
      </div>

    </div>


    <div class="col">
      <ch-search-box #searchBox placeholder="Search tool" (onValueChange)="search($event)" (onEnterKey)="searchEnter()"></ch-search-box>
    </div>
  </div>

  <div class="row">
    <div class="col-5">
      <h3 class="h3-xs">Category</h3>
    </div>
    <div class="col">
      <h3 class="h3-xs">Tool</h3>
    </div>
  </div>

  <div class="row tool-list-row">

    <div class="col-5">
      <ch-scroller>
        <div class="tool-list list-group-sm" id="category-tool-list">
          <button type="button" class="list-group-item list-group-item-action tool-list-item" [ngClass]="{active: category===selectedCategory, compact: settingsService.compactToolList$.getValue()}"
            (click)="selectCategory(category)" *ngFor="let category of selectedModule.categories | categorypipe: searchTool">
            <ch-tool-list-item [color]="category.color" [categoryname]="category.name"></ch-tool-list-item>
          </button>
        </div>
      </ch-scroller>
    </div>

    <div class="col">
      <ch-scroller>
        <div class="tool-list list-group-sm" *ngIf="selectedCategory" id="tool-list">
          <button type="button" class="list-group-item list-group-item-action tool-list-item" [ngClass]="{active: tool===toolSelection?.tool, compact: settingsService.compactToolList$.getValue()}"
            (click)="selectTool(tool)" *ngFor="let tool of selectedCategory.tools | toolpipe:searchTool" id="tool-button-{{tool.id}}"
            ngbPopover="{{tool.description}}" triggers="manual" container="body" placement="left" #p="ngbPopover" (mouseenter)="tool.description && p.open()"
            (mouseleave)="tool.description && p.close()">
            {{tool.name.displayName}}
          </button>
        </div>
      </ch-scroller>
    </div>
  </div>
</div>