<!-- <div class="panel panel-default main-panel-right" ng-controller="VisualizationCtrl">
	<div class="panel-body"> -->

<div class="main-panel-right" ng-controller="VisualizationCtrl">
	<div>

		<ul class="nav nav-tabs" >
			<li ng-class="{active:isTab(1)}"><a href ng-click="setTab(1)">Details</a></li>

			<li role="presentation" class="dropdown" ng-class="{active:isTab(2)}" ng-show="currentVisualization">
				<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
					{{currentVisualization.name}} <span class="caret"></span>
				</a>
				<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
					<li ng-repeat="vis in visualizations" ng-show="isCompatible(vis)"> <a ng-click="show(vis)">{{vis.name}}</a></li>
				</ul>
			</li>
		</ul>

		<div>
			<div ng-show="isTab(1)" class="tab-content">

				<div class="col-sm-7" id="data-detail">

					<div ng-if="dataNode">
						<h5>{{dataNode.name}}</h5>
						<!-- <h5>Normalisation / Affymetrix: {{dataNode.name}}</h5> -->
						<!-- <p><strong>{{dataNode.name}}</strong> created by <strong>{{getJob(dataNode.sourceJob).toolCategory}} / {{getJob(dataNode.sourceJob).toolName}}</strong></p> -->

						<div class="indented">
							<p style="font-size: smaller">{{dataNode.size}}, {{dataNode.session.created}}</p>
							<!-- <p>Source job: {{dataNode.sourceJob}}</p> -->
							<!-- <p>File ID: {{dataNode.fileId}}</p> -->
							<textarea style="border: none; width: 100%">{{dataNode.notes}}</textarea>
						</div>

						<h5>{{getJob(dataNode.sourceJob).toolCategory}} / {{getJob(dataNode.sourceJob).toolName}}</h5>
						<div class="indented">
							<p ng-repeat="param in getJob(dataNode.sourceJob).parameters">{{param.displayName}}: {{param.value}}</p>
						</div>
					</div>

					<div ng-if="!dataNode">
						<p>{{session.sessionDetail}}</p>
					</div>



				</div>

				<div class="coll-sm-5">
					<div ng-if="showPreview()">
						<button type="button" class="btn btn-default no-padding thumbnail-button" ng-click="show(vis)"
								ng-repeat="vis in getVisualizations()">
							<img ng-src="{{getDatasetUrl()}}" ng-if="vis.directive == 'chipster-image'" class="thumbnail"/>

							<div ng-if="vis.directive == 'chipster-pdf'" class="thumbnail">
								<!-- set url to variable  http://stackoverflow.com/questions/16796341/set-angular-scope-variable-in-markup -->
								{{pdfUrl=getDatasetUrl();""}}
								<ng-pdf scale="page-fit" template-url="partials/pdf-thumbnail.html" canvasid="pdf-canvas-thumb">
								</ng-pdf>
							</div>
						</button>
					</div>

					 <div ng-if="!showPreview()" class="btn-group-vertical" role="group">
						<button type="button" class="btn btn-default" ng-click="show(vis)" ng-repeat="vis in getVisualizations()">
							<span class="glyphicon {{vis.icon}}" aria-hidden="true"></span>
							<br>
							{{vis.name}}
						</button>
					 </div>
				</div>

				<div class="col-sm-12">
					<hr/>
					<div ng-include="'partials/tools.html'"></div>
				</div>

				<!-- Start of Tools View -->
				<!-- End of Tools View -->

			</div>
			<div ng-show="isTab(2)" class="tab-content-without-padding">
				<div id="visualizationArea" class="visualization-area"></div>
			</div>
		</div>
	</div>
</div>

