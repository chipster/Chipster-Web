<div class="row" id="workflowview" ng-controller="SessionCtrl"
	ng-init="getSessionDetail()">
	<div class="row" id="dataToolContainer">
		<!--div dataset and tool-->
		<div class="row row-eq-height">
			<div class="col-sm-6">
				<!--file info or tool info panel-->

				<!--starting of Workflow div-->
				<div class="panel panel-default">
					<div class="panel-heading">{{session.sessionName}}</div>
					<!--end of panel heading-->
					<div class="panel-body">
						<div>
							<ul class="nav nav-pills pull-left">
								<li ng-class="{active:isSet(1)}"><a href
									ng-click="setItem(1)">Workflow</a></li>
								<li ng-class="{active:isSet(2)}"><a href
									ng-click="setItem(2)">Datasets</a></li>
							</ul>
							<ul class="nav nav-pills pull-right">
								<li><button class="btn btn-xs btn-info pull-right" id="add"
										ng-click="addDataset()">
										<span class="glyphicon glyphicon-plus-sign"></span>
									</button></li>
							</ul>
						</div>
						<!-- end of panel headings -->

						<div id="tabContent">
							<div ng-show="isSet(1)">
								<hr />
								<workflow-graph-layout data="d3Data">
							</div>
							<div ng-show="isSet(2)">
								<hr />
								<p>
									{{session.sessionDetail}} <span class="pull-right">
										<button class="btn btn-xs btn-info" data-toggle="modal"
											data-target="#session-edit-modal">
											<span class="glyphicon glyphicon-edit"></span>
										</button>
									</span>
								</p>
								<hr class="soften">
								<!--session editing modal-->
								<div id="session-edit-modal" class="modal fade" role="dialog">
									<div class="modal-dialog">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal">&times</button>
												<h4 class="modal-title">Edit Session</h4>
											</div>
											<!--end of modal header-->
											<div class="modal-body">
												<form class="edit-form" role="form" novalidate>
													<div class="form-group">
														<label>Session Name</label> <input type="text"
															class="form-control" ng-model="session.sessionName"
															placeholder="Edit name">
													</div>
													<div class="form-group">
														<label>Session Description</label> <input type="text"
															class="form-control" ng-model="session.sessionDetail"
															placeholder="Enter description">
													</div>
													<button type="button" class="btn btn-info"
														ng-click="editSession()" data-dismiss="modal">Save</button>
													<button type="button" class="btn btn-default pull-right"
														data-dismiss="modal">Cancel</button>
												</form>
											</div>
											<!--end of modal body-->
										</div>
										<!--end of modal-content-->

									</div>
									<!--end of modal-dialog-->

								</div>
								<!--end of modal dialog-->
								</hr>
								<div class="dataset-list">
									<table class="table table-hover">
										<tbody>
											<tr ng-repeat="data in d3Data.nodes">
												<td class="text-left text-nowrap" ng-click=""><a
													href="">{{data.name}}</a></td>
												<td class="text-right text-nowrap">
													<button class="btn btn-xs btn-info"
														ng-click="deleteDataset(data)">Delete</button>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
								<!--end of dataset List-->
								<div>
									<hr class="soften">
									<button type="button" class="btn btn-sm btn-success"
										ng-click="addDataset()">Add DataSet</button>
									<button class="btn btn-sm btn-success" data-toggle="modal"
										data-target="#jobListModal">See Jobs</button>

									<div id="jobListModal" class="modal fade" role="dialog">
										<div class="modal-dialog">
											<div class="modal-content">
												<div class="modal-header">
													<button type="button" class="close" data-dismiss="modal">&times</button>
													<h4 class="modal-title">Jobs</h4>
												</div>
												<!--end of modal header-->
												<div class="modal-body">
													<table class="table table-hover">
														<tbody>
															<tr>
																<td>JobId</td>
																<td>Description</td>
																<td>Status</td>
															</tr>
															<tr ng-repeat="job in jobs">
																<td class="text-nowrap"><a href="">{{job.jobId}}</a>
																</td>
																<td class="text-nowrap">{{job.toolId}}</td>
																<td class="text-nowrap">{{job.state}}</td>
															</tr>
														</tbody>
													</table>
												</div>
												<!--end of modal body-->
											</div>
											<!--end of modal-content-->
										</div>
										<!--end of modal-dialog-->
									</div>
								</div>
							</div>
						</div>
						<!-- end of tab content -->
					</div>
					<!-- end of panel body -->
				</div>
				<div class="panel panel-default" ng-show="showDatasetDetail()">
					<div class="panel-heading">
						<h5 class="panel-title">{{dataNode.name}}</h5>
					</div>
					<!-- End of panel heading -->
					<div class="panel-body">
						<p>SourceJob: {{dataNode.sourceJob}}</p>
						<p>File ID: {{dataNode.fileId}}</p>
						<p>Size: {{dataNode.size}}</p>
					</div>
					<!-- end of panel body -->

				</div>
			</div>
			<!--end of column-sm-6-->


			<div class="col-sm-6">
				<div class="panel panel-default"
					ng-controller="AnalysisToolTabCtrl as tab">
					<div class="panel-heading">
						<ul class="nav nav-tabs">
							<li ng-class="{active:isViewSet(1)}"><a href
								ng-click="setCurrentView(1)">Analysis Tools</a></li>
							<li ng-class="{active:isViewSet(2)}"><a href
								ng-click="setCurrentView(2)">Visualization</a></li>
						</ul>
					</div>
					<!--end of panel heading-->
					<div class="panel-body">
						<!-- Tools div -->
						<div ng-show="isViewSet(1)">
							<div>
								<ul class="nav nav-pills">
									<li ng-class="{active:tab.isSet(1)}"><a href
										ng-click="tab.setTab(1)">Microarray</a></li>
									<li ng-class="{active:tab.isSet(2)}"><a href
										ng-click="tab.setTab(2)">NGS</a></li>
									<li ng-class="{active:tab.isSet(3)}"><a href
										ng-click="tab.setTab(3)">Misc</a></li>
								</ul>
							</div>

							<div id="tabContent">
								<div class="row row-eq-height">
									<div class="col-sm-6">
										<table class="table table-hover">
											<tbody>
												<tr ng-repeat="tool in tools"
													ng-click="selectedToolCat(tool,$index)"
													ng-class="{'selected-class-name':$index===selectedTool}">
													<td><a href="">{{tool.name}}</a></td>
												</tr>
											</tbody>
										</table>
									</div>
									<!-- end of col-sm-3 for the first table -->
									<div class="col-sm-6">
										<table class="table table-hover">
											<tbody>
												<tr ng-repeat="node in currentToolCat.nodes"
													ng-click="selectedTool(node,$index)">
													<td>{{node.name}}</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
							<!--end of tabset div-->
							<div id="runButton">
								<button type="button" class="btn btn-sm btn-success btn-block"
									ng-click="runJob()">Run</button>
							</div>
						</div>
						<!-- end of tool div -->

						<!-- Visualization div -->
						<div ng-show="isViewSet(2)">
							<div class="row">
								<div class="col-sm-2 col-md-4">
									<div class="thumbnail">
										<img src="icons/graph_icon.jpg" alt="...">
										<div class="caption">
											<h5>Visualization Label</h5>
											<p>Some thing about the technique</p>
										</div>
										<!--end of caption-->
									</div>
									<!--end of thumbnails-->
								</div>
								<!--end of column-->
								<div class="col-sm-2 col-md-4">
									<div class="thumbnail">
										<img src="icons/graph_icon.jpg" alt="...">
										<div class="caption">
											<h5>Visualization Label</h5>
											<p>Some thing about the technique</p>
										</div>
										<!--end of caption-->
									</div>
									<!--end of thumbnails-->
								</div>
							</div>
						</div>
						<!-- end of visualization div -->

					</div>
					<!--end of tool panel-->

					<div ng-show="showToolDescription()" class="panel panel-default">
						<div class="panel-heading">
							<h4 class="panel-title">Tool Description</h4>
						</div>
						<div class="panel-body">
							<!--will be the tool description-->
							{{selectedToolId.tool}}
							<p>{{selectedToolId.name}}</p>
							<!--button area-->
							<div class="container" id="toolButtonGroup">
								<!--Tool source-->
								<button class="btn  btn-info" data-toggle="modal"
									data-target="#toolSourceModal">Tool Source Code</button>

								<div id="toolSourceModal" class="modal fade" role="dialog">
									<div class="modal-dialog">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal">&times</button>
												<h4 class="modal-title">{{selectedToolId.tool}}</h4>
											</div>
											<!--end of modal header-->
											<div class="modal-body">
												<p>Tool source code should be here, will be visible
													shortly :)</p>
											</div>
											<!--end of modal body-->
										</div>
										<!--end of modal-content-->

									</div>
									<!--end of modal-dialog-->

								</div>
								<!--Parameter-->
								<button class="btn  btn-info" data-toggle="modal"
									data-target="#parameterModal">Show Parameter</button>

								<div id="parameterModal" class="modal fade" role="dialog">
									<div class="modal-dialog">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal">&times</button>
												<h4 class="modal-title">{{selectedToolId.tool}}</h4>
											</div>
											<!--end of modal header-->
											<div class="modal-body">
												<p>Parameter list</p>
											</div>
											<!--end of modal body-->
										</div>
										<!--end of modal-content-->

									</div>
									<!--end of modal-dialog-->

								</div>

							</div>
							<!--end of tool button group-->
						</div>
						<!--end of panel body-->
					</div>
					<!--end of class panel panel-default-->

				</div>
				<!--end of tool column-->
			</div>
			<!-- end of workflow and tool row -->



		</div>
		<!-- end of row-eq-height -->

	</div>
	<!--end of dataToolContainer-->
	<div class="panel panel-default">
		<div class="panel-heading">Sesssion Events </div>
		<div class="panel-body">{{event}}</div>
	</div>
</div>
<!-- end of workflowview -->
