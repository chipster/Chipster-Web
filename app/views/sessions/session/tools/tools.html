<div ng-controller="ToolCtrl as vm">

    <h4>Tools</h4>
    <div class="chipster-highlight">

        <!--<div class="bar pull-right search-div">-->
        <!--<input type="text" class="search" ng-model="searchTool" ng-change="selectFirstVisible()"-->
        <!--placeholder="search tool" ng-keyup="toolSearchKeyEvent($event)"/>-->
        <!--<button class="clear-search-button no-border" ng-show="searchTool"-->
        <!--ng-click="searchTool = null">-->
        <!--<span class="glyphicon glyphicon-remove"></span>-->
        <!--</button>-->
        <!--</div>-->

        <!-- Tab Content -->
        <div class="row">
            <ul class="col-md-4">
                <h5>Module</h5>
                <div class="list-group tool-list" data-toggle="buttons">
                    <button class="list-group-item thin-list-group-item"
                            ng-click="vm.selectModule(module)"
                            ng-repeat="module in vm.getModules() | moduleFilter:vm.searchTool"
                            ng-class="{active:module === vm.selectedModule}">{{module.name}}
                    </button>
                </div>
            </ul>

            <div class="col-md-4">
                <h5>Category</h5>
                <div class="list-group tool-list" data-toggle="buttons">
                    <button type="button" class="list-group-item thin-list-group-item"
                            ng-class="{'active':category===vm.selectedCategory}"
                            ng-click="vm.selectCategory(category)"
                            ng-repeat="category in vm.categories | categoryFilter:vm.searchTool">
                        <span><tool-circle toolcolor="category.color"></tool-circle></span>
                        {{category.name}}
                    </button>
                </div>
            </div>

            <div class="col-md-4">
                <h5>Tool</h5>
                <div class="list-group tool-list" data-toggle="buttons">
                    <button type="button" class="list-group-item thin-list-group-item"
                            ng-class="{'active':tool.id===vm.selectedTool.name.id}"
                            ng-click="vm.selectTool(tool.id)"
                            ng-repeat="tool in vm.selectedCategory.tools|toolFilter:vm.searchTool"
                            id="tool-button-{{tool.id}}">
                        {{tool.name}}
                    </button>
                </div>
            </div>

            <div class="col-md-6">
                <h5>Tool Description</h5>

                <!-- Tool Description div -->
                <div class="tool-description" ng-show="vm.selectedTool">
                    <p>{{vm.selectedTool.description}}</p>
                    <!--Tool source-->
                    <p>
                        <a href ng-click="vm.openSourceModal()" ng-disabled="!selectedTool">
                            Source code
                        </a>
                    </p>
                </div>

                <!--Parameter-->
            </div>

            <div class="col-md-6">

                <div class="btn-group btn-group-justified" role="group">
                    <button class="btn btn-default" style="width: 50%"
                            ng-disabled="!vm.isParametersEnabled()"
                            ng-click="vm.openParameterModal()">
                        Parameters
                    </button>
                    <button class="btn btn-success" style="width: 50%"
                            ng-click="vm.runJob()" ng-disabled="!vm.isRunEnabled()">
                        <span class="glyphicon glyphicon-play">
                        </span>
                        Run
                    </button>
                </div>


            </div>
        </div>
        <!--end of tabset div-->
    </div>

</div>